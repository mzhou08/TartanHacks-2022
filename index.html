<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>ClickShare</title>

    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.0/css/bootstrap.min.css"
        integrity="sha512-P5MgMn1jBN01asBgU0z60Qk4QxiXo86+wlFahKrsQf37c9cro517WzVSPPV1tDKzhku2iJ2FVgL67wG03SGnNA=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer" />

    <link rel="stylesheet"
        href="styles.css">

    <link rel="shortcut icon" type="image/png" href="click.png"/>
    <script type="text/javascript"
        src="https://unpkg.com/@voxeet/voxeet-web-sdk"></script>
</head>
<body>
    <img src = "ClickShare.png" width = "260px" height = "130px" style = "padding-top: 20px;">
    <header class="masthead bg-primary text-white text-center">
        <div class="container d-flex align-items-center flex-column">
            <!-- Masthead Avatar Image-->
            <!-- Masthead Heading-->
            <h7 class="masthead-heading text-uppercase mb-0" style = "color: white; position: relative; bottom: 140px;">Welcome</h7>
            <o1 style="position: relative; bottom: 90px; color: white; font-size: 30px;">
                <li style="text-align: left;">If you are looking to join a friends meeting, click join meeting and enter their <b>Meeting ID</b></li>
                <li style="text-align: left;">To start a meeting, hit host meeting</li>
                <li style="text-align: left;"> Make sure to download the Chrome extension</li>
            </o1>
            <!-- Icon Divider-->
    
            <!-- Masthead Subheading-->
            <p class="masthead-subheading font-weight-light mb-0"></p>
        </div>
    </header>
    
    <main role="main">
        <div class="container">
            <h1 id="title" class="title"></h1>
            <div class="form-group row" style="position: relative; left: 320px;">
                <label for="username-input" class="col-sm-3 col-form-label name-label">Name:</label>
                <div class="col-sm-2" style = "position: relative; right: 110px;">
                    <div class="input-group input-group-sm">
                        <input id="external-id-input" type="text" class="form-control" placeholder="External ID" title="External ID" style="display: none;">
                        <input id="username-input" type="text" class="form-control" placeholder="Your name" title="Your name" style = "height: 50px; font-size: 150%;">
                        <input id="avatar-url-input" type="text" class="form-control" placeholder="Avatar URL" title="Avatar URL" style = "display: none;">
                    </div>
                </div>
            </div>
            <div class="input-group-append">
                <button id="connect-btn" class="btn btn-primary center" type="button" style="font-size: 30px; background-color:#26272b; border: #26272b;">Host Meeting</button>
                
            </div>

            <div class="form-group row" style="display : none;">
                <label for="username-input" class="col-sm-3 col-form-label" style="font-family: monospace;">Enter Meeting ID:</label>
                <div class="col-sm-2" style = "position: relative; right: 110px;">
                    <div class="input-group input-group-sm">
                        <!-- <input id="conference-alias-input" type="text" class="form-control" placeholder="Conference alias" style="width: 200px"> -->
                        <button id="conference-join-btn" class="btn btn-primary center" type="button">Join Meeting</button>
                    </div>
                </div>
            </div>
            <!-- <button id="conference-join-btn" class="btn btn-primary center" type="button">Join Meeting</button> -->
            <!-- <div class="input-group-append">
                <label for="username-input" class="col-sm-3 col-form-label">Enter Meeting ID:</label>
                <input id="conference-alias-input" type="text" class="form-control" placeholder="Conference alias" style="width: 200px">
            </div> -->
            <!-- This is a pop up form -->


<button id="newjoin-btn" class="btn btn-primary center" onclick="openForm()" style="font-size: 30px; background-color:#26272b; border: #26272b;">Join Meeting</button>

<div class="form-popup" id="myForm">
  <form id="form" class="form-container">

    <label for="email"><b>Enter Meeting ID</b></label>
    <input id="conference-alias-input" type="text" class="form-control" placeholder="Conference alias" style="width: 200px">


    <button id="joinsmeeting-btn" type="submit" class="btn" onclick="closeForm()">Join</button>
    <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
  </form>
</div>

  <!-- Site footer -->
<script>
function openForm() {
  document.getElementById("myForm").style.display = "block";
}

function closeForm() {
  document.getElementById("myForm").style.display = "none";
}
</script>

            <div class="input-group-append">
                <button id="conference-leave-btn" class="btn btn-danger center" type="button" disabled style="display:none; font-size: 30px;">Leave</button>
            </div>
            <div class="input-group-append center">
                <button id="conference-join-btn" class="btn btn-primary btnColor" type="button" disabled style="display:none;">Join</button>
                <button id="conference-listen-btn" class="btn btn-primary" type="button" disabled style="display:none;">Listen</button>
            </div>

            <!-- Join or Leave a Conference -->
            <div class="form-group row">
                <div class="col-sm-9">
                <div class="input-group input-group-sm" >
                    <div class="input-group-prepend" style="display:none;">
                        <div class="input-group-text">
                            <input id="chk-live-recording" type="checkbox">
                        </div>
                        <label class="input-group-text" for="chk-live-recording" style="border-left: none; padding-left: 0;">Live recording</label>
                    </div>
                    <div class="input-group-prepend" style="display:none;">
                        <div class="input-group-text">
                            <input id="chk-dolby-voice" type="checkbox" checked>
                        </div>
                        <label class="input-group-text" for="chk-dolby-voice" style="border-left: none; padding-left: 0;">Dolby Voice</label>
                    </div>

                    

                    
                  </div>
                </div>
            </div>
    
            <!-- Actions on Video -->
            <div id="video-toggles" class="form-group row" data-conference="on" style="display:none;">
                <label class="col-sm-3 col-form-label">Video actions:</label>
                <div class="col-sm-9">
                    <div class="input-group input-group-sm">
                        <div class="input-group-append">
                            <button id="start-video-btn" class="btn btn-success" type="button" disabled>Start video</button>
                            <button id="stop-video-btn" class="btn btn-secondary" type="button" disabled>Stop video</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Actions on Audio -->
            <div id="audio-toggles" class="form-group row" data-conference="on" style="display:none;">
                <label class="col-sm-3 col-form-label">Audio actions:</label>
                <div class="col-sm-9">
                    <div class="input-group input-group-sm">
                        <div class="input-group-append">
                            <button id="start-audio-btn" class="btn btn-success" type="button" disabled>Start audio</button>
                            <button id="stop-audio-btn" class="btn btn-secondary" type="button" disabled>Stop audio</button>
                            <button id="mute-audio-btn" class="btn btn-warning" type="button" disabled>Mute audio</button>
                            <button id="unmute-audio-btn" class="btn btn-warning" type="button" disabled>Unmute audio</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Actions on Screen Share -->
            <div id="screenshare-toggles" class="form-group row" data-conference="on" style="display:none;">
                <label class="col-sm-3 col-form-label">Screen Share actions:</label>
                <div class="col-sm-9">
                    <div class="input-group input-group-sm">
                        <div class="input-group-append">
                            <button id="start-screenshare-btn" class="btn btn-success" type="button" disabled>Start screen share</button>
                            <button id="stop-screenshare-btn" class="btn btn-secondary" type="button" disabled>Stop screen share</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Devices -->
            <div class="form-group row" style="display:none;">
                <label for="video-devices" class="col-sm-3 col-form-label">Video Devices:</label>
                <div class="col-sm-9">
                <div class="input-group input-group-sm">
                    <select id="video-devices" class="custom-select"></select>
                    <div class="input-group-append">
                        <button id="btn-set-video-device" class="btn btn-info" type="button" disabled>Set</button>
                    </div>
                  </div>
                </div>
            </div>
    
            <!-- Input Audio Devices -->
            <div class="form-group row" style="display:none;">
                <label for="input-audio-devices" class="col-sm-3 col-form-label">Input Audio Devices:</label>
                <div class="col-sm-9">
                <div class="input-group input-group-sm">
                    <select id="input-audio-devices" class="custom-select"></select>
                    <div class="input-group-append">
                        <button id="btn-set-input-audio-device" class="btn btn-info" type="button" disabled>Set</button>
                    </div>
                  </div>
                </div>
            </div>
    
            <!-- Output Audio Devices -->
            <div class="form-group row" style="display:none;">
                <label for="output-audio-devices" class="col-sm-3 col-form-label">Output Audio Devices:</label>
                <div class="col-sm-9">
                    <div class="input-group input-group-sm">
                        <select id="output-audio-devices" class="custom-select"></select>
                        <div class="input-group-append">
                            <button id="btn-set-output-audio-device" class="btn btn-info" type="button" disabled>Set</button>
                        </div>
                      </div>
                </div>
            </div>

            <!-- Play a video -->
            <div class="form-group row" data-conference="on" style="display:none;">
                <label for="video-url-input" class="col-sm-3 col-form-label">Play Video URL:</label>
                <div class="col-sm-9">
                <div class="input-group input-group-sm">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><i class="fas fa-info-circle gray fa-lg" title="The video URL must be publicly accessible"></i></span>
                    </div>
                    <input id="video-url-input" type="text" class="form-control" value="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4">
                    <div class="input-group-append">
                        <button id="video-start-btn" class="btn btn-primary" type="button" disabled>Start</button>
                        <button id="video-stop-btn" class="btn btn-danger" type="button" disabled>Stop</button>
                        <button id="video-pause-btn" class="btn btn-warning" type="button" disabled>Pause</button>
                        <button id="video-play-btn" class="btn btn-warning" type="button" disabled>Play</button>
                    </div>
                  </div>
                </div>
            </div>

            <!-- Recording Actions and Status -->
            <div class="form-group row" data-conference="on" style="display:none;">
                <label class="col-sm-3 col-form-label">Recording:</label>
                <div class="col-sm-9">
                    <div class="input-group input-group-sm">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i id="recording-status" class="fas fa-stop-circle gray fa-lg"></i></span>
                        </div>
                        <div class="input-group-append">
                            <button id="start-recording-btn" class="btn btn-primary" type="button" disabled>Start</button>
                            <button id="stop-recording-btn" class="btn btn-danger" type="button" disabled>Stop</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- RTMP Streaming -->
            <div class="form-group row" data-conference="on" style="display:none;">
                <label for="rtmp-url-input" class="col-sm-3 col-form-label">RTMP Stream URL:</label>
                <div class="col-sm-9">
                <div class="input-group input-group-sm">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i id="rtmp-status" class="fas fa-broadcast-tower gray"></i></span>
                    </div>
                    <input id="rtmp-url-input" type="text" class="form-control" value="rtmp://a.rtmp.youtube.com/live2/">
                    <div class="input-group-append">
                        <button id="start-rtmp-btn" class="btn btn-primary" type="button" disabled>Start</button>
                        <button id="stop-rtmp-btn" class="btn btn-danger" type="button" disabled>Stop</button>
                    </div>
                  </div>
                </div>
            </div>



            <!-- Invitation -->
            <div class="form-group row" data-conference="on" style="display:none;">
                <label for="message-input" class="col-sm-3 col-form-label">Invitation:</label>
                <div class="col-sm-9">
                <div class="input-group input-group-sm">
                    <input id="invite-input" type="text" class="form-control" placeholder="External ID">
                    <div class="input-group-append">
                        
                        <button id="send-invitation-btn" class="btn btn-primary" type="button" disabled>Invite</button> 
                    </div>
                  </div>
                </div>
            </div>

        </div>

        <!-- Display the list of participants -->
        <!-- <div class="bg-light">
            <div class="container">
                <h2 class="title">Participants</h2>
                <ul id="participants-list"></ul>
            </div>
        </div> -->

        <!-- Container for the video streams -->
        <div>
            <div class="container" >
                <h2 id="video-streams" class="title" style="display:none">Video Streams</h2>
                <div id="streams-containers" class="row"></div>
            </div>
        </div>

        <!-- Display logs -->
        <!-- style = "display: none" -->
        <div class="bg-light" >  
            <div class="container"
                <h2 class="title">ClickChat</h2>
                <div class="form-group">
                    <textarea id="logs-area" class="form-control chat" rows="5" readonly></textarea>
                  </div>
            </div>
        </div>

        <!-- Messaging -->
            <!-- style="display:none;" -->
            
        <div class="form-group row" data-conference="on">
            <!-- <label for="message-input" class="col-sm-3 col-form-label">Message:</label> -->
            <div class="col-sm-12">
            <div class="input-group input-group-sm left-padding">
                <input id="message-input" type="text" class="border-box chat" placeholder="send message">
                <div class="input-group-append">
                    <button id="send-message-btn" class="btn btn-primary" type="button" style = "display:none;">Send</button>
                </div>
                </div>
            </div>
        </div>
        
    </main>



    <footer class="site-footer">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 col-md-6" style = "padding-left: 50px;">
              <h6 style="font-size: 25px;">About</h6>
              <p class="text-justify" style = "font-size: 20px;">ClickShare is the easiest way to get in video contact with anyone. With no account system, all you have to do is click one button and you are in a meeting. On top of that, its innovative extension allows you to seamlessly point on another person's screenshare to direct them without being invasive.</p>
            </div>
    
            <div class="col-xs-6 col-md-3" style="padding-left: 200px;">
              <h6 style="font-size: 25px;">Links</h6>
              <ul class="footer-links" style="font-size: 20px;">
                <li><a href="https://github.com/mzhou08/TartanHacks-2022">GitHub</a></li>
                <li><a href="https://www.youtube.com/">YouTube Overview</a></li>
                <li><a href="https://www.tartanhacks.com/">TartanHacks</a></li>
              </ul>
            </div>
          <hr>
        </div>
        <div class="container">
          <div class="row">
            <div class="col-md-8 col-sm-6 col-xs-12">
              <p class="copyright-text" style="padding-left: 20px;">EST. February 2022, 
           <a href="#">ClickShare</a>.
              </p>
            </div>
        </div>
    </footer>
    

    <script id="template-participant" type="text/x-jsrender">
        <li id="participant-{{:id}}">
            <img class="participant-avatar" src="{{:avatarUrl}}" />
            <span>{{:name}} - {{:status}}{{if isLocal}} - [local session]{{/if}}</span>
        </li>
    </script>

    <script id="template-screenshare" type="text/x-jsrender">
        <div id="stream-screenshare" class="col-md-13">
            <div class="card mb-13 shadow-sm">
                <video width="100%" height="100%" autoplay="autoplay" muted="true" playsinline="true" onClick="trackClick(event)"></video>
                <div class="card-body">
                    <p class="card-text">This is a screen share from {{:name}}.</p>
                </div>
            </div>
        </div>
    </script>

    <script id="template-video" type="text/x-jsrender">
        <div id="stream-{{:id}}" class="col-md-6">
            <div class="card mb-4 shadow-sm">
                <video width="100%" height="100%" autoplay="autoplay" muted="true" playsinline="true"></video>
                <div class="card-body">
                    <p class="card-text">This is a video stream from {{:name}}.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                          </div>
                        <small class="text-muted resolution"></small>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <script id="template-video-url" type="text/x-jsrender">
        <div id="stream-video" class="col-md-6">
            <div class="card mb-4 shadow-sm">
                <video width="100%" height="300" autoplay="autoplay" playsinline="true" src="{{:url}}"></video>
            </div>
        </div>
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.0/js/bootstrap.bundle.min.js"
        integrity="sha512-wV7Yj1alIZDqZFCUQJy85VN+qvEIly93fIQAN7iqDFCPEucLCeNFz4r35FCo9s6WrpdDQPi80xbljXB8Bjtvcg=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsrender/1.0.11/jsrender.min.js"
        integrity="sha512-bKlNlbTH3duwZ28zoqEhXui/yuaPuQVci6OAVu0zh2WfYbEKD39HszVR8byP4/L4YyBo3b5CGIY+4ldVN93uCg=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"></script>
    <script type="text/javascript" src="script.js"></script>
    <script type="text/javascript" src="events.js"></script>
</body>
</html>
